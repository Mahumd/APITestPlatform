<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试平台登录</title>
    <style>
        body{
            background: url("../static/login.png");
            background-attachment: fixed;
            background-size: cover;
        }
        .meng_input{
            width: 90%;
            height: 30px;
            background-color: #d1d0d1;
            float: right;
            margin-right: 10px;
            border-radius: 10px;
            text-align: center;
            border: 0;
        }
        span{
            color: #f25e78;
        }
    </style>
    <script src="../static/201710241453/js/jquery-1.11.0.min.js"></script>
</head>
<body>
    <div style="box-shadow: 4px 4px 6px #2a262a;margin-left: -webkit-calc(50% - 150px);width: 300px;background-color: white;opacity: 0.8;border-radius: 10px;text-align: center">
        <span style="font-size: xx-large;color: #1e1107">接口测试平台</span>
        <br>
        <span>欢迎使用</span>
        <br><br>
        <div>
            <input id="username" type="text" class="meng_input" placeholder="用户名">
            <br><br>
            <input id="password" type="password" class="meng_input" placeholder="密码">
            <br><br><br>
            <button onclick="login()" style="margin-left: 10px;width: 90%;height: 30px;background-color: #cc0000;color: white;font-size: large;border-radius: 10px;border: 0;box-shadow: 4px 4px 4px #a0a0a0">登录</button>
            <br><br>
            <span style="font-size: xx-small">若首次登录，请点击 <a href="javascript:register()">注册账号</a></span>
            <br><br>
        </div>
    </div>
{#    前端获取用户名密码的值#}
    <script>
        function register(){
            username=document.getElementById('username').value;
            password=document.getElementById('password').value;
            {#alert(username+password)#}
            {#把前端获取到的数据传递给后端--这是一段发送http请求的代码#}
            $.get(
                "/register_action",{
                    "username":username,
                    "password":password
                },function (ret){
                    if(ret=='成功'){
                       alert('注册成功')
                    }else{
                        alert('注册失败，请核对信息')
                    }
                }
            )
        }
        function login(){
            username=document.getElementById('username').value;
            password=document.getElementById('password').value;
            {#alert(username+password)#}
            {#把前端获取到的数据传递给后端--这是一段发送http请求的代码#}
            $.get(
                "/login_action",{
                    "username":username,
                    "password":password
                },function (ret){
                    if(ret=='成功'){
                        document.location.href = '/home/'
                    }else{
                        alert('您的用户名或密码错误')
                    }
                }
            )
        }
    </script>
</body>
</html>